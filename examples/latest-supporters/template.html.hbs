{{#*inline "supporterItem"}}
  <div class="supporter-item {{type}} {{#if isAnimating}}animating{{/if}}">
    <div class="supporter-icon">
      {{#eq type "follower"}}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
      {{/eq}}
      {{#eq type "subscriber"}}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
        </svg>
      {{/eq}}
      {{#eq type "tip"}}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/>
        </svg>
      {{/eq}}
      {{#eq type "gift"}}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"/>
        </svg>
      {{/eq}}
      {{#eq type "resub"}}
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
        </svg>
      {{/eq}}
    </div>
    <div class="supporter-info">
      <span class="supporter-label">{{label}}</span>
      <span class="supporter-name">{{name}}</span>
      {{#if detail}}
        <span class="supporter-detail">{{detail}}</span>
      {{/if}}
    </div>
  </div>
{{/inline}}

<div class="latest-supporters {{settings.layout}}">
  {{#if settings.showFollower}}
    {{#if latestFollower}}
      {{> supporterItem
        type="follower"
        label="Latest Follower"
        name=latestFollower.name
        isAnimating=latestFollower.isAnimating
      }}
    {{/if}}
  {{/if}}

  {{#if settings.showSubscriber}}
    {{#if latestSubscriber}}
      {{> supporterItem
        type="subscriber"
        label="Latest Sub"
        name=latestSubscriber.name
        isAnimating=latestSubscriber.isAnimating
      }}
    {{/if}}
  {{/if}}

  {{#if settings.showTip}}
    {{#if latestTip}}
      {{> supporterItem
        type="tip"
        label="Latest Tip"
        name=latestTip.name
        detail=(formatCurrency latestTip.amount latestTip.currency)
        isAnimating=latestTip.isAnimating
      }}
    {{/if}}
  {{/if}}

  {{#if settings.showGiftSub}}
    {{#if latestGiftSub}}
      {{> supporterItem
        type="gift"
        label="Latest Gift Sub"
        name=latestGiftSub.name
        detail=latestGiftSub.detail
        isAnimating=latestGiftSub.isAnimating
      }}
    {{/if}}
  {{/if}}

  {{#if settings.showResub}}
    {{#if latestResub}}
      {{> supporterItem
        type="resub"
        label="Latest Resub"
        name=latestResub.name
        detail=latestResub.detail
        isAnimating=latestResub.isAnimating
      }}
    {{/if}}
  {{/if}}

  {{#unless latestFollower}}
    {{#unless latestSubscriber}}
      {{#unless latestTip}}
        {{#unless latestGiftSub}}
          {{#unless latestResub}}
            <div class="no-supporters">
              Waiting for supporters...
            </div>
          {{/unless}}
        {{/unless}}
      {{/unless}}
    {{/unless}}
  {{/unless}}
</div>
